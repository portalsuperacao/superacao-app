<ion-content padding class="login">
  <div class="parent">
    <div [hidden]="ctrlLogo" class="logo">
      <img src="./assets/images/logo.jpg">
    </div>

    <div class="form">
        <div padding>
          <ion-segment [(ngModel)]="formType" color="dark">
            <ion-segment-button value="login" (click)="ctrlLogo = false" checked>
              Login
            </ion-segment-button>
            <ion-segment-button value="signup" (click)="ctrlLogo = true">
              Cadastre-se
            </ion-segment-button>
          </ion-segment>
        </div>

        <!-- =============== SINGIN =============== -->
        <div [ngSwitch]="formType">
          <form *ngSwitchCase="'login'" [formGroup]="formLogin" (ngSubmit)="login(formLogin.value)">
            <ion-item>
              <ion-label stacked> E-mail </ion-label>
              <ion-input type="email" formControlName="email"></ion-input>
            </ion-item>
            <div class="error-field" *ngIf="formLogin.controls.email.errors && formLogin.controls.email.touched"> Este campo é necessário </div>

            <ion-item>
              <ion-label stacked> Senha </ion-label>
              <ion-input type="password"  formControlName="password"></ion-input>
            </ion-item>
            <div class="error-field" *ngIf="formLogin.controls.password.errors && formLogin.controls.password.touched"> Este campo é necessário e deve conter 6 digitos </div>

            <div padding>
              <button ion-button full color="dark" [disabled]="!formLogin.valid"> Login </button>
            </div>
          </form>

          <!-- =============== SINGUP =============== -->
          <form *ngSwitchCase="'signup'" [formGroup]="formSignup" (ngSubmit)="signup(formSignup.value)">
            <ion-item>
              <ion-label stacked> Nome </ion-label>
              <ion-input type="text" formControlName="name"></ion-input>
            </ion-item>
            <div class="error-field" *ngIf="formSignup.controls.name.errors && formSignup.controls.name.touched"> Este campo é necessário </div>

            <ion-item>
              <ion-label stacked> E-mail </ion-label>
              <ion-input type="email" formControlName="email"></ion-input>
            </ion-item>
            <div class="error-field" *ngIf="formSignup.controls.email.errors && formSignup.controls.email.touched"> Este campo é necessário </div>

            <ion-item>
              <ion-label stacked> Senha </ion-label>
              <ion-input type="password" formControlName="password"></ion-input>
            </ion-item>
            <div class="error-field" *ngIf="formSignup.controls.password.errors && formSignup.controls.password.touched"> Este campo é necessário e deve conter 6 digitos </div>

            <ion-item>
              <ion-label stacked> Confirmar senha </ion-label>
              <ion-input type="password" formControlName="passConfirm"></ion-input>
            </ion-item>
            <div class="error-field" *ngIf="formSignup.controls.passConfirm.errors && formSignup.controls.passConfirm.touched"> Este campo é necessário e deve conter 6 digitos </div>

            <div padding>
              <button ion-button full color="dark" [disabled]="!formSignup.valid"> Cadastre-se </button>
            </div>
          </form>
        </div>

        <div padding>
          <button ion-button item-right icon-left full color="facebook" (click)="loginFacebook()">
            <ion-icon name="logo-facebook"></ion-icon>
            Facebook
          </button>
        </div>
    </div>
  </div>
</ion-content>
